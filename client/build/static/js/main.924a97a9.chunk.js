(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){e.exports=n(62)},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(6),s=n(10),l=n(27),u=n(4),p=n(5),d=n(8),f=n(7),m=n(1),h=n.n(m),v=n(3),g=n(9),y=n(11),b=n.n(y),O=["all","active","done"],E=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={description:""},e.handleChange=function(t){e.setState({description:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.addTodo(e.state.description),e.setState({description:""})},e}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},a.a.createElement("input",{className:"add-task",name:"text",value:this.state.description,onChange:this.handleChange,placeholder:"Add your task here..."}))}}]),n}(r.Component),C=Object(c.b)(null,{addTodo:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/api/todos",{description:e});case 2:r=t.sent,n({type:"ADD_TODO",payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(E),w=n(13),T=n(28),k=n.n(T),x=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.setState({description:r.props.description,priority:r.props.priority}),document.addEventListener("mousedown",r.handleClickOutside)},r.componentWillUnmount=function(){return document.removeEventListener("mousedown",r.handleClickOutside)},r.handleClickOutside=function(e){r.cardRef&&!r.cardRef.current.contains(e.target)&&r.setState({editing:!1})},r.handleDeleteTodo=function(e){e.stopPropagation(),r.props.deleteTodo()},r.showEditForm=function(e){e.stopPropagation(),r.setState((function(e){return{editing:!e.editing}}))},r.changePriority=function(e){var t=r.props.priority;e.stopPropagation();var n=t;r.setState((function(e){return{priority:!e.priority}})),r.props.updateTodo(r.props.id,r.state.description,!n)},r.onInputClick=function(e){e.stopPropagation()},r.onInputChange=function(e){r.setState({description:e.target.value})},r.onFormSubmit=function(e){e.preventDefault(),r.setState((function(e){return{editing:!e.editing}})),r.props.updateTodo(r.props.id,r.state.description,!0)},r.state={editing:!1,description:"",priority:!1},r.cardRef=a.a.createRef(),r.handleClickOutside=r.handleClickOutside.bind(Object(w.a)(r)),r}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.description,n=e.isCompleted,r=e.toggleTodo,o=e.createDate;return a.a.createElement("li",{className:"card",ref:this.cardRef},a.a.createElement("div",{className:"card-container",style:{background:n?"#C6D947":""}},a.a.createElement("div",{className:"card-body",onClick:!this.state.editing&&r},a.a.createElement("div",{className:"description-wp"},a.a.createElement("span",{style:{display:this.state.editing?"none":""}},t),a.a.createElement("form",{className:"form",style:{display:this.state.editing?"inline":"none"},onSubmit:this.onFormSubmit},a.a.createElement("input",{className:"edit-todo",type:"text",value:this.state.description||"",onClick:this.onInputClick,onChange:this.onInputChange,ref:function(e){return e&&e.focus()}})))),a.a.createElement("div",{className:"card-footer"},a.a.createElement(k.a,{format:"D MMM YYYY",withTitle:!0,style:{fontStyle:"italic"}},o),a.a.createElement("div",{className:"icon-list"},a.a.createElement("span",{className:"icon",onClick:this.handleDeleteTodo,style:{marginRight:0}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",className:"svg-icon"},a.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{x:"0",y:"0",width:"24",height:"24"}),a.a.createElement("path",{d:"M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z",fill:"#fff",fillRule:"nonzero"}),a.a.createElement("path",{d:"M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z",fill:"#fff"})))),a.a.createElement("span",{className:"icon edit",onClick:this.showEditForm},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",className:"svg-icon"},a.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{x:"0",y:"0",width:"24",height:"24"}),a.a.createElement("path",{d:"M8,17.9148182 L8,5.96685884 C8,5.56391781 8.16211443,5.17792052 8.44982609,4.89581508 L10.965708,2.42895648 C11.5426798,1.86322723 12.4640974,1.85620921 13.0496196,2.41308426 L15.5337377,4.77566479 C15.8314604,5.0588212 16,5.45170806 16,5.86258077 L16,17.9148182 C16,18.7432453 15.3284271,19.4148182 14.5,19.4148182 L9.5,19.4148182 C8.67157288,19.4148182 8,18.7432453 8,17.9148182 Z",fill:"#fff",fillRule:"nonzero",transform:"translate(12.000000, 10.707409) rotate(-135.000000) translate(-12.000000, -10.707409) "}),a.a.createElement("rect",{fill:"#fff",x:"5",y:"20",width:"15",height:"2",rx:"1"})))),a.a.createElement("span",{className:"icon edit",onClick:this.changePriority},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",className:"svg-icon"},a.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("polygon",{points:"0 0 24 0 24 24 0 24"}),a.a.createElement("path",{d:"M12,18 L7.91561963,20.1472858 C7.42677504,20.4042866 6.82214789,20.2163401 6.56514708,19.7274955 C6.46280801,19.5328351 6.42749334,19.309867 6.46467018,19.0931094 L7.24471742,14.545085 L3.94038429,11.3241562 C3.54490071,10.938655 3.5368084,10.3055417 3.92230962,9.91005817 C4.07581822,9.75257453 4.27696063,9.65008735 4.49459766,9.61846284 L9.06107374,8.95491503 L11.1032639,4.81698575 C11.3476862,4.32173209 11.9473121,4.11839309 12.4425657,4.36281539 C12.6397783,4.46014562 12.7994058,4.61977315 12.8967361,4.81698575 L14.9389263,8.95491503 L19.5054023,9.61846284 C20.0519472,9.69788046 20.4306287,10.2053233 20.351211,10.7518682 C20.3195865,10.9695052 20.2170993,11.1706476 20.0596157,11.3241562 L16.7552826,14.545085 L17.5353298,19.0931094 C17.6286908,19.6374458 17.263103,20.1544017 16.7187666,20.2477627 C16.5020089,20.2849396 16.2790408,20.2496249 16.0843804,20.1472858 L12,18 Z",fill:this.state.priority?"#F4E757":"#fff"}))))))))}}]),n}(r.Component),j=Object(c.b)(null,{updateTodo:function(e,t,n){return function(){var r=Object(v.a)(h.a.mark((function r(a){var o;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.put("/api/todos/".concat(e,"/edit"),{description:t,priority:n});case 2:o=r.sent,a({type:"UPDATE_TODO",payload:Object(g.a)(Object(g.a)({},o.data),{},{description:t,priority:n})});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(x),L=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.fetchTodos();case 2:case"end":return t.stop()}}),t)}))),e.removeComplete=function(){e.props.todos.forEach((function(t){var n=t.isCompleted,r=t._id;n&&e.props.deleteTodo(r)}))},e.renderTodos=function(t){return t.map((function(t){return a.a.createElement(j,{key:t._id,id:t._id,description:t.description,isCompleted:t.isCompleted,createDate:t.createDate,priority:t.priority,toggleTodo:function(){return e.props.toggleTodo(t._id)},deleteTodo:function(){return e.props.deleteTodo(t._id)}})}))},e.renderTabs=function(t){return O.map((function(n){return a.a.createElement("button",{key:n,className:n===t?"filter-button selected":"filter-button",onClick:function(){return e.props.toggleTab(n)}},n)}))},e}return Object(p.a)(n,[{key:"render",value:function(){var e=[];return"all"===this.props.currTab?e=this.props.todos:"active"===this.props.currTab?e=this.props.todos.filter((function(e){return!e.isCompleted})):"done"===this.props.currTab&&(e=this.props.todos.filter((function(e){return e.isCompleted}))),a.a.createElement("div",{className:"wrapper"},a.a.createElement(C,null),this.props.todos.length?a.a.createElement("div",{style:{marginBottom:20,marginLeft:10}},this.props.todos.filter((function(e){return!e.isCompleted})).length," todos left"):null,a.a.createElement("div",null,this.props.todos.length?this.renderTabs(this.props.currTab):null,this.props.todos.some((function(e){return e.isCompleted}))?a.a.createElement("button",{className:"filter-button clear",onClick:this.removeComplete},"remove done"):null),a.a.createElement("ul",{className:"list"},this.renderTodos(e)))}}]),n}(r.Component),D=Object(c.b)((function(e){return{todos:e.todos,currTab:e.currTab}}),{fetchTodos:function(){return function(){var e=Object(v.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/todos");case 2:n=e.sent,t({type:"FETCH_TODOS",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},toggleTodo:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.put("/api/todos/".concat(e));case 2:r=t.sent,n({type:"TOGGLE_TODO",payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteTodo:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("/api/todos/".concat(e));case 2:r=t.sent,n({type:"DELETE_TODO",payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleTab:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"TOGGLE_TAB",filter:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(L),_=(n(61),function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("header",null,a.a.createElement("h1",null,"todo",a.a.createElement("span",null,"list"))),a.a.createElement(D,null))}}]),n}(r.Component)),N=n(29),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_TAB":return t.filter;default:return e}},R=Object(s.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODOS":return t.payload;case"ADD_TODO":return[t.payload].concat(Object(N.a)(e));case"TOGGLE_TODO":return e.map((function(e){return e._id===t.payload._id?Object(g.a)(Object(g.a)({},e),{},{isCompleted:!e.isCompleted}):e}));case"UPDATE_TODO":return console.log(t.payload),e.map((function(e){return e._id===t.payload._id?Object(g.a)(Object(g.a)({},e),{},{description:t.payload.description,priority:t.payload.priority}):e}));case"DELETE_TODO":return e.filter((function(e){return e._id!==t.payload._id}));default:return e}},currTab:S}),A=Object(s.d)(R,Object(s.a)(l.a));i.a.render(a.a.createElement(c.a,{store:A},a.a.createElement(_,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.924a97a9.chunk.js.map